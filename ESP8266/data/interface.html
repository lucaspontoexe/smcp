<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Interface do Projeto</title>
  <script src="https://code.getmdl.io/1.2.1/material.min.js"></script>
	<link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.blue-indigo.min.css" /> 
    <!-- Material Design icon font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> 
<meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
 h3,p{position:absolute;left:50%;transform:translate(-50%,0)}#clebinho,h3,p{transform:translate(-50%,0)}.container,h2{text-align:center}.gauge-data,h1{line-height:12.5px}body{background:linear-gradient(DeepSkyBlue,#448)}.header{height:100px;background:linear-gradient(lightgreen,green)}#corrente,#potencia{width:300px;height:300px;top:50%;border-radius:5px;box-shadow:5px 5px 10px 1px rgba(0,0,0,.5);background:linear-gradient(#fff,#aaa)}p{width:90%;top:65px}#corrente{left:25%;transform:translate(-50%,100px);position:relative}#potencia{left:75%;transform:translate(-50%,-200px);position:relative}.container,.gauge-a{width:200px;height:100px}#clebinho,.container{position:relative;left:50%}#clebinho{bottom:5%}.titulo{position:relative;font-size:200%;top:10px}h2{padding:10px;position:relative}@import url(https://fonts.googleapis.com/css?family=Roboto);#percent{font-weight:400;font-family:Roboto,"Lucida Sans Unicode","Lucida Grande",sans-serif}.container{top:30%;overflow:hidden;transform:translate(-50%,-50%)}.gauge-a,.gauge-b{position:absolute;border-radius:125px 125px 0 0}.gauge-a{z-index:1;background-color:rgba(255,255,255,.2);top:0}.gauge-b{z-index:3;background-color:#eee;width:125px;height:62.5px;top:37.5px;margin-left:37.5px;margin-right:auto}.gauge-c,.gauge-data{position:absolute;width:200px;height:100px;margin-left:auto;margin-right:auto}.gauge-c{z-index:2;background-color:#5664F9;top:100px;border-radius:0 0 100px 100px;transform-origin:center top;transition:all 1.3s ease-in-out}.container:hover .gauge-data{color:rgba(10,10,10,1)}.gauge-data{z-index:4;color:rgba(20,20,20,.2);font-size:1em;top:45px;transition:all .75s ease-out}h1{font-size:2em}@media screen and (max-width:619px){.header{height:120px}#corrente,#potencia{width:300px;height:300px;position:relative;border-radius:5px;box-shadow:5px 5px 10px 1px rgba(0,0,0,.5);background:linear-gradient(#fff,#aaa);transform:translate(-50%,0)}#corrente{left:50%;top:30px}#potencia{top:50px;left:50%}.container,h1{position:absolute;left:50%}h1{font-size:200%;transform:translate(-50%,0);top:0}.container{width:200px;height:100px;top:35%;overflow:hidden;text-align:center;transform:translate(-50%,-50%)}}@media screen and (max-width:299px){#corrente,#potencia{width:90%;height:250px}}
  </style>
</head>
<body>
  <div class="header">
    <h3>SMCP</h3>
    <p align="center">Sistema de Monitoramento de Corrente e Potência</p>
  </div>
  <div id="corrente">
    <div class="titulo" align="center">Corrente</div>
    <div class="container">
      <div class="gauge-a"></div>
      <div class="gauge-b"></div>
      <div class="gauge-c" id="gaugeDACORRENTE"></div>
      <div class="gauge-data">
        <h1 id="valorCorrente">0 A</h1>
      </div>
    </div>
  </div>    
  <div id="potencia">
    <div class="titulo" align="center">Potência</div>
    <div class="container">
      <div class="gauge-a"></div>
      <div class="gauge-b"></div>
      <div class="gauge-c" id="gaugeDAPOTENCIA"></div>
      <div class="gauge-data">
        <h1 id="valorPotencia">0 W</h1>
      </div>
    </div>
  </div>  
<script>
function atualizar(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var b=JSON.parse(a.responseText);grau_cor=b.corrente/20*180,grau_pot=b.potencia/4400*180,valorCorrente.innerHTML=b.corrente+" A",valorPotencia.innerHTML=b.potencia+" W",gaugeCor.style.transform="rotate("+grau_cor+"deg)",gaugePot.style.transform="rotate("+grau_pot+"deg)"}},a.open("GET","/dados",!0),a.send()}var gaugeCor=document.getElementById("gaugeDACORRENTE"),gaugePot=document.getElementById("gaugeDAPOTENCIA"),porcentagemC=document.getElementById("valorCorrente"),porcentagemP=document.getElementById("valorPotencia");setInterval(atualizar,3e3);
</script>
</body>
</html>